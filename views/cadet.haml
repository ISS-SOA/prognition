%script{:src => '//www.google.com/jsapi', :type => 'text/javascript'}
%script{:src => '/chartkick.js', :type => 'text/javascript'}

%p Search for user achievements on Codecademy:
%form{role: 'form', class:'form-inline', action: '/cadet', method: 'get', id: 'user-form'}
  %div{class: 'form-group'}
    %label{for:'username-input'} Username:
    %input{type: 'text', class: 'form-control', name: 'username', id: 'username-input', placeholder: '(username required)'}
  %button{type: 'submit', class: 'btn btn-default', id: 'submit-button', value: 'submit'}
    %span{class: 'glyphicon glyphicon-search'}
    Search
%p

-if @cadet
  = line_chart @dates, library:{chartArea:{width:'100%'}}, id: 'progress', height: '300px'
  %div{class:'row'}
    %table{class: 'table'}
      %thead
        %tr
          %th Badge
          %th Date
      %tbody
        -@cadet['badges'].each do |badge|
          %tr
            %td
              = badge['id']
            %td{width: '300'}
              = badge['date']
